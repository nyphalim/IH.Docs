const y="modulepreload",w=function(p,l){return new URL(p,l).href},g={},S=function(l,d,i){let m=Promise.resolve();if(d&&d.length>0){const s=document.getElementsByTagName("link"),t=document.querySelector("meta[property=csp-nonce]"),h=t?.nonce||t?.getAttribute("nonce");m=Promise.allSettled(d.map(r=>{if(r=w(r,i),r in g)return;g[r]=!0;const c=r.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(!!i)for(let o=s.length-1;o>=0;o--){const a=s[o];if(a.href===r&&(!c||a.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${f}`))return;const n=document.createElement("link");if(n.rel=c?"stylesheet":y,c||(n.as="script"),n.crossOrigin="",n.href=r,h&&n.setAttribute("nonce",h),document.head.appendChild(n),c)return new Promise((o,a)=>{n.addEventListener("load",o),n.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${r}`)))})}))}function u(s){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=s,window.dispatchEvent(t),!t.defaultPrevented)throw s}return m.then(s=>{for(const t of s||[])t.status==="rejected"&&u(t.reason);return l().catch(u)})},v={ranking:{pageLength:.1,termFrequency:.1,termSaturation:2,termSimilarity:9}};class E extends HTMLElement{constructor(){super();const l=this.querySelector("button[data-open-modal]"),d=this.querySelector("button[data-close-modal]"),i=this.querySelector("dialog"),m=this.querySelector(".dialog-frame"),u=e=>{("href"in(e.target||{})||document.body.contains(e.target)&&!m.contains(e.target))&&t()},s=e=>{i.showModal(),document.body.toggleAttribute("data-search-modal-open",!0),this.querySelector("input")?.focus(),e?.stopPropagation(),window.addEventListener("click",u)},t=()=>i.close();l.addEventListener("click",s),l.disabled=!1,d.addEventListener("click",t),i.addEventListener("close",()=>{document.body.toggleAttribute("data-search-modal-open",!1),window.removeEventListener("click",u)}),window.addEventListener("keydown",e=>{(e.metaKey===!0||e.ctrlKey===!0)&&e.key==="k"&&(i.open?t():s(),e.preventDefault())});let h={};try{h=JSON.parse(this.dataset.translations||"{}")}catch{}const f=this.dataset.stripTrailingSlash!==void 0?e=>e.replace(/(.)\/(#.*)?$/,"$1$2"):e=>e;window.addEventListener("DOMContentLoaded",()=>{(window.requestIdleCallback||(n=>setTimeout(n,1)))(async()=>{const{PagefindUI:n}=await S(async()=>{const{PagefindUI:o}=await import("./ui-core.Cv1t5sKF.js");return{PagefindUI:o}},[],import.meta.url);new n({...v,element:"#starlight__search",baseUrl:"/help/dev/",bundlePath:"/help/dev/".replace(/\/$/,"")+"/pagefind/",showImages:!1,translations:h,showSubResults:!0,processResult:o=>{o.url=f(o.url),o.sub_results=o.sub_results.map(a=>(a.url=f(a.url),a))}})})})}}customElements.define("site-search",E);export{S as _};
